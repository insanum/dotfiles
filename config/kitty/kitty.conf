
# ---------------------------------------------------------------------------
# Font
# ---------------------------------------------------------------------------
font_family      Hack
#font_family      Fira Code
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        15.0

text_composition_strategy 1.0 20

#macos_thicken_font 0.25

modify_font cell_width -1px
#modify_font cell_height -1px

# Disable ligatures
disable_ligatures always

# ---------------------------------------------------------------------------
# Cursor
# ---------------------------------------------------------------------------
# cursor                       #f0f0f0
# cursor_text_color            black
cursor_shape                 block
cursor_blink_interval        0
cursor_beam_thickness        2.0
cursor_underline_thickness   2.0
cursor_trail                 3
cursor_trail_decay           0.1 0.4
cursor_trail_start_threshold 2

# ---------------------------------------------------------------------------
# Selection
# ---------------------------------------------------------------------------
# selection_foreground black
# selection_background #73b8f1

# ---------------------------------------------------------------------------
# Scrollback
# ---------------------------------------------------------------------------
scrollback_lines 10000
scrollback_pager bash ~/.config/kitty/kitty_scrollback_pager.sh

# ---------------------------------------------------------------------------
# Window / Layout
# ---------------------------------------------------------------------------
remember_window_size  yes

background_opacity 0.95
background_blur    64

draw_minimal_borders no
window_border_width  2px
#window_margin_width  2
window_padding_width 4

inactive_text_alpha 0.6

# Enabled layouts — stack is used for zoom toggle
enabled_layouts splits,stack

# ---------------------------------------------------------------------------
# Tab bar
# ---------------------------------------------------------------------------
tab_bar_edge        top
tab_bar_min_tabs    1
#tab_bar_style       fade
#tab_fade            0.2 0.4 0.6 0.8 1
tab_bar_style       powerline
tab_powerline_style slanted
tab_activity_symbol "☠️ "

active_tab_font_style   bold
inactive_tab_font_style normal

tab_title_template "{bell_symbol}{activity_symbol}{index}: {title}"

# ---------------------------------------------------------------------------
# macOS specific
# ---------------------------------------------------------------------------
macos_option_as_alt                yes
macos_quit_when_last_window_closed yes

# ---------------------------------------------------------------------------
# Shell / Misc
# ---------------------------------------------------------------------------
shell_integration       no-title no-cwd
confirm_os_window_close 1
copy_on_select          clipboard
allow_remote_control    yes

# ---------------------------------------------------------------------------
# Keybindings
# ---------------------------------------------------------------------------

# Clear defaults for a clean slate
clear_all_shortcuts yes

map ctrl+shift+q  quit

map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard
map cmd+n new_os_window
map cmd+w close_window
map cmd+f show_scrollback

# Font size
map cmd+equal change_font_size all +1.0
map cmd+minus change_font_size all -1.0
map cmd+0     change_font_size all 0

# ---- AI agent multiline commands
map shift+enter send_text all \x1b\r

# ---------------------------------------------------------------------------
# Tab management
# ---------------------------------------------------------------------------
map ctrl+alt+c      new_tab
map ctrl+alt+period next_tab
map ctrl+alt+comma  previous_tab
map ctrl+alt+t      set_tab_title

map ctrl+alt+1 goto_tab 1
map ctrl+alt+2 goto_tab 2
map ctrl+alt+3 goto_tab 3
map ctrl+alt+4 goto_tab 4
map ctrl+alt+5 goto_tab 5
map ctrl+alt+6 goto_tab 6
map ctrl+alt+7 goto_tab 7
map ctrl+alt+8 goto_tab 8
map ctrl+alt+9 goto_tab 9

# ---------------------------------------------------------------------------
# Split (window) management
# ---------------------------------------------------------------------------
# New splits
map ctrl+alt+b launch --location=hsplit
map ctrl+alt+v launch --location=vsplit

# Navigate splits (hjkl)
map ctrl+alt+h neighboring_window left
map ctrl+alt+j neighboring_window down
map ctrl+alt+k neighboring_window up
map ctrl+alt+l neighboring_window right

# Zoom/fullscreen toggle (toggle between splits and stack layout)
map ctrl+alt+o toggle_layout stack

# Equalize splits — Kitty doesn't have a native equalize, but resetting
# the layout effectively re-equalizes
map ctrl+alt+equal goto_layout splits
map ctrl+shift+l   next_layout

# Close split
map ctrl+alt+x close_window

# ---------------------------------------------------------------------------
# Resize splits
# ---------------------------------------------------------------------------
map ctrl+alt+shift+h resize_window narrower  11
map ctrl+alt+shift+j resize_window taller    10
map ctrl+alt+shift+k resize_window shorter   10
map ctrl+alt+shift+l resize_window wider     11

# ---------------------------------------------------------------------------
# Move splits
# ---------------------------------------------------------------------------
map alt+shift+h move_window left
map alt+shift+j move_window down
map alt+shift+k move_window up
map alt+shift+l move_window right

# Resize quick keys
map alt+equal resize_window wider 5
map alt+minus resize_window narrower 5

# ---------------------------------------------------------------------------
# Scroll
# ---------------------------------------------------------------------------
map ctrl+shift+k scroll_line_up
map ctrl+shift+j scroll_line_down
map ctrl+shift+u scroll_page_up
map ctrl+shift+d scroll_page_down

# ---------------------------------------------------------------------------
# Sessions
# ---------------------------------------------------------------------------
map ctrl+f6>/ combine : close_session . : goto_session ~/.config/kitty
map ctrl+f6>w combine : close_session . : goto_session ~/.config/kitty/work.kitty-session
map ctrl+f6>c close_session .

startup_session ~/.config/kitty/work.kitty-session

# ---------------------------------------------------------------------------
# Misc
# ---------------------------------------------------------------------------
map ctrl+shift+f5 load_config_file
map ctrl+shift+f6 debug_config

# ---------------------------------------------------------------------------
# Color Theme
# ---------------------------------------------------------------------------
#include theme-one-dark.conf
include theme-one-half-dark.conf

